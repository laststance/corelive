import {
  Meta,
  Story,
  Canvas,
  Source,
  ArgTypes,
  Primary,
  Controls,
} from '@storybook/addon-docs/blocks'
import * as ThemeSelectorStories from './ThemeSelector.stories'

<Meta of={ThemeSelectorStories} />

# ThemeSelector

Theme switching component for the CoreLive application.

<Primary />

<Controls />

## Components

| Component               | Use Case                         |
| ----------------------- | -------------------------------- |
| `ThemeSelector`         | Standalone dropdown button       |
| `ThemeSelectorCompact`  | Native select element            |
| `ThemeSelectorMenuItem` | Embed in existing dropdown menus |

## Usage

### Standalone Dropdown

<Canvas>
  <Story id="ui-themeselector--default" />
</Canvas>

<Source language="tsx" code={`import { ThemeSelector } from '@/components/ThemeSelector'

export function Header() {
  return <ThemeSelector />
}
`} />

### In User Dropdown Menu

<Source language="tsx" code={`import { ThemeSelectorMenuItem } from '@/components/ThemeSelectorMenuItem'
import { DropdownMenu, DropdownMenuContent, DropdownMenuTrigger } from '@/components/ui/dropdown-menu'

export function UserMenu() {
  return (
    <DropdownMenu>
      <DropdownMenuTrigger>...</DropdownMenuTrigger>
      <DropdownMenuContent>
        <ThemeSelectorMenuItem />
      </DropdownMenuContent>
    </DropdownMenu>
  )
}
`} />

### Compact Version

<Canvas>
  <Story id="ui-themeselector--compact" />
</Canvas>

<Source language="tsx" code={`import { ThemeSelectorCompact } from '@/components/ThemeSelector'

export function Settings() {
  return <ThemeSelectorCompact />
}
`} />

## Theme Provider Setup

<Source language="tsx" code={`// app/layout.tsx
import { ThemeProvider } from '@/providers/ThemeProvider'

export default function RootLayout({ children }) {
  return (
    <html lang="en" suppressHydrationWarning>
      <body>
        <ThemeProvider>{children}</ThemeProvider>
      </body>
    </html>
  )
}
`} />

## Using Theme in Components

<Source language="tsx" code={`import { useTheme } from 'next-themes'
import { THEME_META } from '@/providers/ThemeProvider'

export function MyComponent() {
  const { theme, setTheme } = useTheme()
  const meta = theme ? THEME_META[theme] : null
  
  return <p>Current: {meta?.name}</p>
}
`} />

## Adding New Themes

1. Add theme id to `THEMES` array in `ThemeProvider.tsx`
2. Add metadata to `THEME_META` object
3. Add CSS variables in `globals.css`:

<Source
  language="css"
  code={`[data-theme='my-theme'] {
  --background: oklch(98% 0 0);
  --foreground: oklch(10% 0 0);
  /* ... other tokens */
}
`}
/>
